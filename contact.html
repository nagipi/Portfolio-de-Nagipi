<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Nagipi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Rubik+Glitch&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>☠️</text></svg>">
    <link rel="stylesheet" href="style.css">
    <script src="env.js"></script>
</head>
<body>
    <!-- Textes verticaux sur les côtés -->
    <div class="side-decor left">GET_IN_TOUCH /// CONTACT_ME /// REACH_OUT</div>
    <div class="side-decor right">LETS_TALK /// MESSAGE /// 2025</div>
    
    <!-- Badges Web style 2000s -->
    <div class="sidebar-badges left-badges">
        <div class="badge b1">MAIL</div>
        <div class="badge b2">CHAT</div>
        <div class="badge b3">TALK</div>
    </div>
    <div class="sidebar-badges right-badges">
        <div class="badge b4">SOCIAL</div>
        <div class="badge b5">CONTACT</div>
        <div class="badge b6">NOW</div>
    </div>

    <header class="hero" style="min-height: 50vh;">
        <div class="punk-decor">
            <span class="graffiti g1">CONTACT</span>
            <span class="graffiti g2">TALK</span>
        </div>

        <div class="container">
            <span class="sticker s1">@</span>
            <span class="sticker s2">*</span>
            <span class="sticker s3">!</span>
            
            <div class="hero__content">
                <div class="hero__title">
                    <h1>CONTACT<br>ME</h1>
                    <h2>>_Get in touch</h2>
                </div>
                <p class="hero__intro">
                    Une question ? Un projet ? Une idée folle ?<br>
                    Je réponds en 24-48 heures.
                </p>
                <div class="hero__cta">
                    <a href="index.html" class="btn btn--ghost">← Retour</a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="section">
            <span class="section-sticker ss1">[*]</span>
            <span class="section-sticker ss2">\</span>
            <span class="section-deco">FAST</span>
            <div class="section__head">
                <h3>Contacte-moi rapidement</h3>
                <p>Plusieurs façons de me joindre</p>
            </div>
            <div class="contact-methods">
                <div class="contact-method">
                    <h4>Par Email</h4>
                    <p>La meilleure façon de me contacter</p>
                    <a href="mailto:nagipi.off@gmail.com" class="btn">nagipi.off@gmail.com</a>
                </div>
                <div class="contact-method">
                    <h4>Sur GitHub</h4>
                    <p>Pour discuter code et projets</p>
                    <a href="https://github.com/nagipi" class="btn btn--ghost" target="_blank">github.com/nagipi</a>
                </div>
                <div class="contact-method">
                    <h4>Réponse rapide</h4>
                    <p>Je réponds généralement en 24-48 heures</p>
                    <p class="small-text">Parfois plus rapide pendant les week-ends \o/</p>
                </div>
            </div>
        </section>

        <section class="section">
            <span class="section-sticker ss3">[MSG]</span>
            <span class="section-sticker ss4">▢</span>
            <span class="section-deco deco-alt">FORM</span>
            <div class="section__head">
                <h3>Envoie-moi un message</h3>
                <p>Remplis ce formulaire et je te répondrai dès que possible</p>
            </div>
            <form class="contact-form" id="contactForm" method="POST">
                <div class="form-group">
                    <label for="nom">Ton nom *</label>
                    <input type="text" id="nom" name="name" required placeholder="Ex: Tyler Dudun">
                </div>

                <div class="form-group">
                    <label for="email">Ton email *</label>
                    <input type="email" id="email" name="email" required placeholder="Ex: Tyler@exemple.com">
                </div>

                <div class="form-group">
                    <label for="sujet">Sujet *</label>
                    <select id="sujet" name="sujet" required>
                        <option value="">-- Sélectionne un sujet --</option>
                        <option value="Collaboration">Collaboration / Projet</option>
                        <option value="Question">Question sur un projet</option>
                        <option value="Freelance">Demande freelance</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="message">Ton message *</label>
                    <textarea id="message" name="message" required placeholder="Raconte-moi tout..." rows="7"></textarea>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn">Envoyer le message</button>
                </div>

                <p class="form-note">* Champs obligatoires | Tes données ne seront utilisées que pour te répondre</p>
            </form>
        </section>

        <section class="section">
            <span class="section-sticker ss5">◆</span>
            <span class="section-sticker ss6">+</span>
            <span class="section-deco">SOCIAL</span>
            <div class="section__head">
                <h3>Autres canaux</h3>
                <p>Retrouve-moi ailleurs</p>
            </div>
            <div class="social-links">
                <div class="social-item">
                    <h4>GitHub</h4>
                    <p>Mon code et mes projets</p>
                    <a href="https://github.com/nagipi" target="_blank" class="btn btn--ghost">github.com/nagipi</a>
                </div>
                <div class="social-item">
                    <h4>Email Direct</h4>
                    <p>Messages privés rapides</p>
                    <a href="mailto:nagipi.off@gmail.com" class="btn">nagipi.off@gmail.com</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>© 2025 Nagipi - Tous droits réservés | Portfolio personnel</p>
        <p class="footer-links">
            <a href="index.html">Accueil</a> · 
            <a href="contact.html">Contact</a> · 
            <a href="mentions-legales.html">Mentions légales</a>
        </p>
    </footer>

    <!-- Back to top button -->
    <button id="backToTop" class="back-to-top">↑</button>

    <script>
        // Configure le formulaire avec l'ID Formspree depuis env.js
        const contactForm = document.getElementById('contactForm');
        contactForm.action = `https://formspree.io/f/${CONFIG.formspreeId}`;

        // Gère l'envoi du formulaire sans redirection
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const form = e.target;
            const formData = new FormData(form);
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;

            try {
                submitBtn.textContent = 'Envoi en cours...';
                submitBtn.disabled = true;

                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    form.reset();
                    submitBtn.textContent = '✓ Message envoyé !';
                    submitBtn.style.backgroundColor = '#baff00';
                    submitBtn.style.color = '#0d0414';
                } else {
                    throw new Error('Erreur lors de l\'envoi');
                }
            } catch (error) {
                submitBtn.textContent = '✗ Erreur d\'envoi';
                submitBtn.style.backgroundColor = '#ff0000';
            } finally {
                setTimeout(() => {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                    submitBtn.style.backgroundColor = '';
                    submitBtn.style.color = '';
                }, 3000);
            }
        });

        // Bouton retour haut
        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.style.opacity = '1';
                backToTopBtn.style.pointerEvents = 'auto';
            } else {
                backToTopBtn.style.opacity = '0';
                backToTopBtn.style.pointerEvents = 'none';
            }
        });
        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Active les animations au scroll sur cette page
        document.body.classList.add('has-anim');
        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                } else {
                    entry.target.classList.remove('animate-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section, .card, .color-item, .card--wip, .skills > div').forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>
